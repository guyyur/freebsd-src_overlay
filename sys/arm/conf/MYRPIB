# based on: head/sys/arm/conf/RPI-B 306619

ident		MYRPIB

include 	"std.armv6"
include 	"../broadcom/bcm2835/std.rpi"
include 	"../broadcom/bcm2835/std.bcm2835"

options 	INTRNG

options 	SCHED_4BSD		# 4BSD scheduler
options 	PLATFORM
options 	MULTIDELAY

#options 	ROOTDEVNAME=\"ufs:mmcsd0s2\"

device		bpf
device		loop
device		ether
device		uart
device		pty
device		snp
device		pl011

# Comment following lines for boot console on serial port
device		vt
device		kbdmux
device		ukbd

device		sdhci
device		mmc
device		mmcsd

device		gpio
device		gpioled

# I2C
device		iic
device		iicbus
device		bcm2835_bsc

device		md
device		random			# Entropy device

# USB support
device		usb
device		dwcotg			# DWC OTG controller

# USB storage support
device		scbus
device		da

# USB ethernet support
device		smcphy
device		mii
device		smsc

# SPI
device		spibus
device		bcm2835_spi

device		vchiq
device		sound

# Flattened Device Tree
options 	FDT			# Configure using FDT/DTB data
# Note:  DTB is normally loaded and modified by RPi boot loader, then
# handed to kernel via U-Boot and ubldr.
#options 	FDT_DTB_STATIC
#makeoptions	FDT_DTS_FILE=rpi.dts
# makeoptions	MODULES_EXTRA="dtb/rpi rpi_ft5406"

#
makeoptions	MODULES_OVERRIDE="dtb/rpi libiconv mii netgraph rc4 usb/axe usb/ucom usb/uether usb/uftdi usb/umass usb/uplcom usb/uslcom"

nooptions 	TCP_HHOOK		# hhook(9) framework for TCP
nooptions 	IPSEC			# IP (v4/v6) security
nooptions 	UFS_GJOURNAL		# Enable gjournal-based UFS journaling
nooptions 	QUOTA			# Enable disk quotas for UFS
nooptions 	NFS_ROOT		# NFS usable as /, requires NFSCL
nooptions 	CD9660			# ISO 9660 Filesystem

options 	NULLFS			# NULL filesystem

options 	TEKEN_UTF8		# UTF-8 output handling

device		md			# Memory "disks"
